<!DOCTYPE html>
<!-- saved from url=(0037)http://nikita.tnnet.fi/~akselmo/pi98/ -->
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


    <title>Pi98 Project</title>
    <meta name="description" content="Pi98 Project">
    <meta name="author" content="Akseli">

    <link rel="stylesheet" href="styles.css">


</head>

<body>



    <div id="title">




        <p id="line">===================================================== <br></p>
        <h1>
            <pre class="logo">██████╗     ██╗     █████╗      █████╗
 ██╔══██╗    ██║    ██╔══██╗    ██╔══██╗
 ██████╔╝    ██║    ╚██████║    ╚█████╔╝
 ██╔═══╝     ██║     ╚═══██║    ██╔══██╗
 ██║         ██║     █████╔╝    ╚█████╔╝
╚═╝         ╚═╝     ╚════╝      ╚════╝</pre>

        </h1>

        <h2 class="minititle"> Raspberry Pi 2 with hint of Win98! </h2>
        <p id="line">===================================================== <br></p>
        <a href="../../index.html">Back to portfolio</a>
        <br><br>
    </div>
    <div id="container">

        <h2>What is Pi98?</h2>

        <p>
            <br> Pi98 is a simple Raspberry Pi project I have tinkered with.<br> Basically it's just Raspbian OS that looks like Windows 98 and runs DOS games.<br>

            <img src="./Pi98 Project_files/screenfetch.png"><br> Unfortunately I can't make it work with games like Re-Volt or Morrowind since it has ARM processor and those games use x86 processor tech. (Well, I might with Exagear Desktop, but no proper
            OpenGL drivers so far..)<br><br> I think that was the biggest lesson I learned from the whole project. :D <br><br> And here I will talk about it and show pictures of it etc. I will update this every time I do something new to it. <br><br>            I would've gladly made some videos about the games and stuff, but I don't have a video camera, only my phones camera and I don't want to create shaky-hands videos, so instead I just take photos.<br><br>


        </p>
        <p id="line">===================================================== <br></p>
        <h2>Getting the Pi</h2>

        <p>
            <br> Man I was so excited.<br> I got the Raspberry Pi 2, a case, 8GB SD-Card with preinstalled Raspbian OS and a power supply for 60€.

            <img src="./Pi98 Project_files/package.jpg"><br> Pi 2 looks up close like this.<br>

            <img src="./Pi98 Project_files/pi.png"><br> It has:</p>
        <li>900MHz quad-core ARM Cortex-A7 CPU</li>
        <li>1GB RAM</li>
        <li>4 USB ports</li>
        <li>40 GPIO pins</li>
        <li>Full HDMI port</li>
        <li>Ethernet port</li>
        <li>Combined 3.5mm audio jack and composite video</li>
        <li>Camera interface (CSI)</li>
        <li>Display interface (DSI)</li>
        <li>Micro SD card slot</li>
        <li>VideoCore IV 3D graphics core</li>
        <p>
            <br> In a case it looks like this. It has my wireless keyboard, wireless mouse and Asus USB-N10 Wifi dongle plugged in. The Wifi dongle worked without installing anything, I just had to reboot my Pi.<br>
            <img src="./Pi98 Project_files/assembledpi.jpg"><br>

            <img src="./Pi98 Project_files/piincase.jpg"><br> Here it's running the first time. It looks pretty normal, no modifications made at all.

            <img src="./Pi98 Project_files/firstrun.jpg"><br> Pi itself felt really snappy to use, I'd recommend it to anyone who needs a simple PC. Some websites loaded a bit poorly because of the lack of hardware acceleration, but this is supposed to
            be added later on. I hope! :D<br><br> Then it was time to install some software. I deleted all the useless stuff I didn't need, such as Mathematica and some other software, and installed IceWeasel internet browser, htop, all that useful stuff.
            (I can't remember everything since I'm writing this many days later. Sorry!)<br>

            <img src="./Pi98 Project_files/pidownloading.jpg"><br> Next, it's time for some games! <br>

        </p>
        <p id="line">===================================================== <br></p>

        <h2>Runescape!</h2>
        <p>
            Since I had been playing lots of Old School Runescape lately, I had to see if it works on Pi.<br><br> First I tried to instal OSBuddy, but it didn't work. At all. It kept either crashing or simply not launching.<br><br> But then I found out
            about <a target="_blank" href="https://github.com/HikariKnight/rsu-client">rsu-client</a> made by HikariKnight. I installed it normally and...<br><br> Didn't work!<br><br> But then I realised that I had to install Java. Raspbian came with
            some version of Java installed, but it didn't work with OSBuddy or rsu for some reason, so I installed the newest Oracle Java I could find. (I think it was 7.)<br> And boom! The rsu updater began to work! After updating, I could play Old School
            Runescape just fine!<br>

            <img src="./Pi98 Project_files/runescape.png"><br> I think it had whopping 10-15 fps, but after overclocking my Pi to 1GHz, it gained a ~5fps boost. Definitely playable, but I wouldn't go to Wilderness while playing on Pi, hah. I'm sure that
            with proper OpenGL (and not OpenGL ES which is what Pi uses right now) drivers many games, like Runescape, would run a lot better.<br>

        </p>
        <p id="line">===================================================== <br></p>

        <h2> Daggerfall </h2>
        <p>
            I had to fight with Daggerfall and DOSBox to get it playable, but I managed to do it. I'm a huge fan of TES games, so this was essential to get to work. <br><br> First I tried with normal Dosbox, as in Dosbox v. 0.74. Installation went smoothly,
            and menus worked just fine, but trying to play the game was just.. Bad. Barely even 5 fps. <br><br> I googled for solutions and found RetroPie, which had Dosbox SVN version, that's supposedly optimised for Raspberry Pi. So I installed RetroPie
            on my Pi, but accidentally I installed every single emulator it had.. Oops. <br> After uninstalling bunch of emulators I didn't use, I tried Daggerfall through EmulationStation Dosbox. It worked a lot better, still choppy but actually playable!
            Now my problem was that I couldn't add a shortcut to my games list to launch it, and that I had to exit X (Linux Window manager, the Windows looking thing, is called X, for those who didn't know.) in case I wanted to play Daggerfall.<br><br>            Of course I had to find a way around it! <br><br> So I uninstalled Dosbox 0.74 since I didn't need it anymore, and set a new shortcut that just directly launches Dosbox SVN from RetroPie folder.<br>

            <br>Psst, don't mind the Screenfetch on the background, I was a dumb dumb and took screenshots with Screenfetch instead of prntscreen, I don't know why, I blame being tired.<br><br>

            <img src="./Pi98 Project_files/dosboxsvn.png"><br> That worked, but some keys on the keyboard, like shift, ä and ö keys didn't work at all. I thought this had something to do with EmulationStation and googled for hours for any info about it..
            But I found nothing. <br> I started to check Dosbox conf files after that, just in case. And the culprit was there! I had to change usescancodes=false to usescancodes=true. After that, keys worked just fine.<br> Another problem I had was that
            the screen was very very small, but that was solved by changing the rendering mode in Dosbox conf files from surface to overlay. I think the FPS suffered a little, but I could actually play the game on my TV now.<br>
            <img src="./Pi98 Project_files/daggerfall.jpg"><br> I don't really have any idea what the FPS is since I couldn't check, but most likely it was bouncing between 5-15. I'm eagerly waiting for Linux Kernel 4.5 to hit on Raspbian, so I can install
            proper OpenGL drivers that should make Dosbox run faster! .. Hopefully! When the update is here, I'll update this section too. <br>


        </p>
        <p id="line">===================================================== <br></p>

        <h2> DOOM </h2>

        <p>
            Doom was super simple to get to work. <br><br> I checked Raspberry Pi forums about getting Doom to work on Pi, and it was really easy: I just installed Chocolate Doom, added the doom.wad file I had on my main PC and bam, it works!<br><br>

            <img src="./Pi98 Project_files/doom.jpg"><br> And yes, it was constant 60 fps! :)<br><br> This is also when I updated my wallpaper.<br>
            <img src="./Pi98 Project_files/desktop.png"><br> Now it's truly a cool kids PC.<br>
        </p>

        <p id="line">===================================================== <br></p>

        <h2> Quake 1</h2>

        <p>
            Quake 1 was super simple to install, but the hardest part was creating a shortcut for it. <br> I found the instructions to install Darkplaces Quake 1 engine for Raspberry Pi from the Pi Forums, and went with that. It was easy and didn't take
            long.
            <br><br> The downside was that I had to run the game from outside of X, from command line. Not terminal emulator, not from shortcut. Of course I had to find a way to do a shortcut, just for the ease of access!<br><br> I startled googling and
            found out that I can change between command line and X by pressing ctrl+alt+f1 and ctrl+alt+f7. But I didn't want to change it from hotkeys, I wanted to use a command to do that so I could make a shell script that launches the game!<br><br>            I found out about commands "chvt" and "writevt." Chvt changes the virtual terminal shown, so writing "sudo chvt 1" in terminal emulator was the same thing as pressing ctrl+alt+f1. Great! But how do I type from terminal 7 to terminal 1?<br>            Writevt to rescue! With that I could write anything I wanted to other terminal. Here's the full script I used for this thing:<br>
        </p>


        <pre>#!/bin/bash
sudo chvt 1
sudo writevt /dev/tty1 -T "cd /home/pi/Games/darkplaces; darkplaces-sdl"
    </pre>

        <p>
            <br> First it changes my virtual terminal view to the first one, and then it types "cd /home/pi/Games/darkplaces; darkplaces-sdl" to the command line. All I need to do is to press enter.<br><br> I tried to add a way to make it press enter
            too, like adding '\r' or '\n' in the end of the writevt, but that didn't work for some reason, even though I read that it would work.<br><br> After saving that shell script to my games folder, I could create a shortcut to it from the menu
            settings.. And it works.<br>

            <img src="./Pi98 Project_files/command1.jpg"><br> Then just press enter and you get to play some Quake!<br>

            <img src="./Pi98 Project_files/quake1.jpg"><br>
            <img src="./Pi98 Project_files/quake2.jpg"><br> As you can see, it's running in 60 fps just fine! Even the multiplayer seemed to work, but I only found one server that was empty.. :( <br><br> After that I can just type "pi98" and press enter.
            That changes back to the virtual terminal 7, which has X running.<br> It's just an alias. (alias="chvt 7")<br>

            <img src="./Pi98 Project_files/command2.jpg"><br> Since I've been talking about the importance of the menu, this is how it looks right now:

            <img src="./Pi98 Project_files/menu.png"><br><br>

        </p>

        <p id="line">===================================================== <br></p>

        <h2>SkiFree</h2>

        <p>I really wanted to get SkiFree running on my Pi, but since it's x86 software and Pi is ARM, I couldn't do that without basically making my own game. <br> I then discovered Exagear Desktop which lets you run x86 software on Pi and other ARM based
            devices. The price was a little too steep for me tho, since it's 25 euros.<br> I mentioned about this on Twitter and a few days later one of the Exagear developers contacted me and said that I could get a discount since I'm gonna run Skifree.
            That was really unexpected, but I took the offer! Saved 10 euros! :D Big THANK YOU to Exagear for the discount!<br><br> After getting myself a new 16gb SDcard since <a target="_blank" href="http://eltechs.com/product/exagear-desktop/">Exagear Desktop</a>            needed roughly 2 Gb of space and I only had less than 1Gb, I installed Exagear on the new SDCard. It took a long while, but installed succesfully.<br><br> Then I just downloaded the Skifree exe from the <a target="_blank" href="http://ski.ihoc.net/">official site</a>            and ran it under Exagear and Wine. It worked perfectly!<br>

            <img src="./Pi98 Project_files/skifree.jpg"><br> Sorry about the thumb... (I need to replace that pic.)<br><br> Now I just have to find myself more classic Windows games :) I tried running Win98 sol.exe under wine but it didn't work, my guess
            is that it's too old. WinXP sol.exe might work though!<br>

        </p>

        <p id="line">===================================================== <br></p>

        <h2>Solitaire</h2>

        <p>
            Every good retro PC needs solitaire. Unfortunately, normal Win98 sol.exe doesn't work under wine on Pi. But I found out about <a target="_blank" href="http://pysolfc.sourceforge.net/">PySolFC.</a><br> It has thousand card games in it, which
            is nice.<br><br> I managed to pimp out my PySol to look almost like the Win98 one, so it feels right at home in my Pi.

            <img src="./Pi98 Project_files/solitaire.png"><br> A decent time waster when I don't feel like playing Quake or Doom. :D <br>

        </p>

        <p id="line">===================================================== <br></p>

        <h2>Spotify stream</h2>

        <p>
            I decided to try getting Mopidy run on my Pi and see if I can play from Spotify.<br><br> I simply followed the instructions at <a target="_blank" href="https://docs.mopidy.com/en/latest/installation/debian/#debian-install">Mopidy</a> website.
            It was really easy!<br><br> After that I installed <a target="_blank" href="https://docs.mopidy.com/en/latest/clients/mpd/#gmpc">GMPC</a> on my Pi aswell. After running Mopidy and then turning GMPC on, it all worked together perfectly. Only
            thing that didn't work on GMPC was search function, it was a bit weird, but I didn't mind.<br><br> Then I made a script that launches both Mopidy and GMPC simultaneously and made it into a shortcut just for convenience:<br>
        </p>
        <pre>#!/bin/bash

mopidy &amp; sleep 5 &amp; gmpc &amp;&amp; fg
</pre>
        <p>

            This is how it looks like:<br>

            <img src="./Pi98 Project_files/musicplayer.png"><br> Pressing ctrl-c in the terminal window shuts down both things, so it's nice.<br><br> And yes, I could play Quake while listening to Slayer. ;) <br>

        </p>



        <p id="line">===================================================== <br></p>








    </div>




</body>

</html>